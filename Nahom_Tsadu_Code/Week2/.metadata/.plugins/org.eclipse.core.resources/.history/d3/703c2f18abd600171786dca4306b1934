/**
 * 
 */

var home = false;
var introduction = false;
var overloading = false;
var overriding = false;
var coercion = false;
var inclusion = false;
var generics = false;

var current = null;
var previous = null;

var map = new Object();
var diagramMap = new Object();
var diagramFormat = new Object();
var iconMap = new Object();

function myFunction(x) {
	if(x == 1) setHome();
	else if(x == 2) setIntro();
	else if(x == 3) setOverloading();
	else if(x == 4) setOverriding();
	else if(x == 5) setCoercion();
	else if(x == 6) setInclusion();
	else if(x == 7) setGenerics();
}

$(document).ready(function(){
	
	map["introduction"] = "#collapseOne";
	map["overloading"] = "#collapseTwo";
	map["overriding"] = "#collapseThree";
	map["coercion"] = "#collapseFour";
	map["inclusion"] = "#collapseFive";
	map["generics"] = "#collapseSix";
	
	diagramMap["introductionModal"] = "assets/polymorphism-diagram.svg";
	diagramMap["overloadingModal"] = "assets/overloading-diagram.svg";
	diagramMap["overridingModal"] = "assets/overriding-diagram.svg";
	diagramMap["coercionModal"] = "assets/coercion-diagram.svg";
//	diagramMap["introductionModal"] = "assets/polymorphism-diagram.svg";
	
	diagramFormat["introductionModal"] = "7vh";
	diagramFormat["overloadingModal"] = "7vh";
	diagramFormat["overridingModal"] = "0vh";
	diagramFormat["coercionModal"] = "7vh";
	
	iconMap[0] = "#introduction-button-icon";
	iconMap[1] = "#overloading-button-icon";
	iconMap[2] = "#overriding-button-icon";
	iconMap[3] = "#coercion-button-icon";
	
	$('#myModal').on('shown.bs.modal', function () {
		  $('#myInput').focus()
	})
	
	$("#introductionModal, #overloadingModal, #overridingModal, #coercionModal").click(function() {
		$("#modal-diagram").attr("src", diagramMap[$(this).attr("id")]);    
		$("#modal-diagram").css("margin-top", diagramFormat[$(this).attr("id")]);
	});
	
	$("#introduction, #introductionTab, #introduction-button").click(function() {
		if(current == "introduction"){ 
			$("#introduction-button-icon").attr("class", "fa fa-minus");
			if(previous == null)$('html, body').animate({scrollTop: "0px"}, 800);   
			else $('html, body').animate({scrollTop: "0px"}, 800);   
		}else{$("#introduction-button-icon").attr("class", "fa fa-plus");}
	});
	
	$("#overloading, #overloadingTab, #overloading-button").click(function() {
		if(current == "overloading"){ 
			$("#overloading-button-icon").attr("class", "fa fa-minus");
			if(previous == null)$('html, body').animate({scrollTop: ($(window).height() / 10).toString() + "px"}, 800);   
			else $('html, body').animate({scrollTop: (($(window).height() - $(map[previous]).height()) / 7.65).toString() + "px"}, 800);   
		}else{$("#overloading-button-icon").attr("class", "fa fa-plus");}
	});
	
	$("#overriding, #overridingTab, #overriding-button").click(function() {
		if(current == "overriding"){ 
			$("#overriding-button-icon").attr("class", "fa fa-minus");
			if(previous == null)$('html, body').animate({scrollTop: ($(window).height() / 5).toString() + "px"}, 800);   
			else $('html, body').animate({scrollTop: (($(window).height() - $(map[previous]).height()) / 3.84).toString() + "px"}, 800);   
		}else{$("#overriding-button-icon").attr("class", "fa fa-plus");}
	});
	
	$("#coercion, #coercionTab, #coercion-button").click(function() {
		if(current == "coercion"){ 
			$("#coercion-button-icon").attr("class", "fa fa-minus");
			if(previous == null)$('html, body').animate({scrollTop: ($(window).height() / 3.34).toString() + "px"}, 800);   
			else $('html, body').animate({scrollTop: (($(window).height() - $(map[previous]).height()) / 2.55).toString() + "px"}, 800);   
		}else{$("#coercion-button-icon").attr("class", "fa fa-plus");}
	});
});

function setIcon(id, icon){
	for (i = 0; i < iconMap.length; i++) { 
	    if(iconMap[i] == x){
	    	$(x).attr("class", y);
	    }else{}
	}
}

function setHome(){
	if(home == false){
		home = true;
		console.log(home);
		introduction = false;
		overloading = false;
		overriding = false;
		coercion = false;
		inclusion = false;
		generics = false;
	}else{
		home = false;
		console.log(home);
		introduction = false;
		overloading = false;
		overriding = false;
		coercion = false;
		inclusion = false;
		generics = false;
	}
}

function setIntro(){
	if(current != "introduction"){
		previous = current;
		current = "introduction";
	}else{current = null;}
}

function setOverloading(){
	if(current != "overloading"){
		previous = current;
		current = "overloading";
	}else{current = null;}
}

function setOverriding(){
	if(current != "overriding"){
		previous = current;
		current = "overriding";
	}else{current = null;}
}

function setCoercion(){
	if(current != "coercion"){
		previous = current;
		current = "coercion";
	}else{current = null;}
}

function setInclusion(){
	if(current != "inclusion"){
		previous = current;
		current = "inclusion";
	}else{current = null;}
}

function setGenerics(){
	if(current != "generics"){
		previous = current;
		current = "generics";
	}else{current = null;}
}